<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <link rel="stylesheet" href="assets/style.css">
</head>
<body>
    <div id="loading">
        <div id="loading-title">
            <h1>buk</h1>
            <h2>a cube rolling puzzle</h2>
        </div>
        <div id="cog-animation">
            <svg id="cog-bg" viewBox="0 0 153.43 177.17">
                <path fill="#000" d="M76.715-5.0293E-7,0,44.291v88.583l76.715,44.291,76.715-44.291v-88.583z"/>
            </svg>
            <span class="center-fix">
                <span id="cog" class="fa fa-cog fa-spin"></span>
            </span>
        </div>
        <div id="loading-log">Loading game core</div>
    </div>

    <input type="checkbox" class="toggle" id="tutorial-toggle">
    <div id="tutorial-layer">
        <div id="tutorial-texts">
            <div id="tutorial-goal">
                <h3>Long story short</h3>
                Roll the cube to the exit. The cube can roll on the tile if the side of the cube
                matches the color of the tile. The exit tile has gray border and is filled with the exit color.
                Other tile types may appear!
            </div>
            <div id="tutorial-controls">
                <h3>Controls</h3>
                <ul id="tutorial-touch">
                    <li>Pinch to zoom</li>
                    <li>Swipe to roll</li>
                    <li>Swipe at the bottom of the screen to rotate the camera</li>
                </ul>
                <div id="tutorial-keyboard">
                    If you're on keyboard use wasd to roll, shift+w/s to zoom and shift+a/d to rotate.
                </div>
            </div>
            <div id="tutorial-help">
                <h3>Have any issue?</h3>
                See the <i>Help</i> menu for more information
            </div>
        </div>
        <label for="tutorial-toggle" id="btn-got-it">Got it!</label>
    </div>

    <div id="ui-layer" class="hidden">
        <div id="logo">
            <div id="logo-texts">
                <h1>buk</h1>
                <h2>a cube rolling puzzle</h2>
            </div>
            <svg id="logo-bg" viewBox="0 0 153.43 177.17">
                <path fill="#f5f5f5" d="M76.715,0.0000055971,0.0000077861,44.291,76.715,88.583,153.43,44.291z"/>
                <path fill="#e53935" d="M0.0000077861,132.87,76.715,177.17v-88.583l-76.715-44.296z"/>
                <path fill="#1e88e5" d="m153.43,44.291-76.715,44.291,0,88.583,76.715-44.291z"/>
            </svg>
        </div>

        <div id="menu">
            <label id="btn-play" for="levels-toggle">Play</label>
            <label id="btn-settings" for="settings-toggle">Settings</label>
            <label id="btn-help" for="help-toggle">Help</label>
            <span id="cc">IR - 2016 (1.0.0)</span>
        </div>

        <input type="checkbox" class="toggle" id="levels-toggle">
        <div id="levels-screen" class="screen">
            <div class="screen-head">
                <h1>Levels</h1>
                <label for="levels-toggle"><span class="fa fa-times"></span></label>
            </div>
            <div id="levels" class="screen-body"></div>
        </div>

        <input type="checkbox" class="toggle" id="settings-toggle">
        <div id="settings-screen" class="screen">
            <div class="screen-head">
                <h1>Settings</h1>
                <label for="settings-toggle" id="save-settings"><span class="fa fa-times"></span></label>
            </div>
            <div id="settings" class="screen-body">
                <div id="control-settings" class="section">
                    <h1><span>Controls</span></h1>
                    <div class="section-body">
                        <table>
                            <tbody>
                                <tr>
                                    <td><label for="swap-rotation">Swap camera rotation</label></td>
                                    <td><input type="checkbox" id="swap-rotation"></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div id="graphics-settings" class="section">
                    <h1><span>Graphics</span></h1>
                    <div class="section-body">
                        <table>
                            <tbody>
                                <tr>
                                    <td><label for="antialias">Anti-aliasing</label></td>
                                    <td><input type="checkbox" id="antialias"></td>
                                </tr>
                                <tr>
                                    <td><label for="shadow">Shadow quality</label></td>
                                    <td>
                                        <select id="shadow">
                                            <option value="off">Off</option>
                                            <option value="low">Low</option>
                                            <option value="high">High</option>
                                        </select>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div id="game-settings" class="section">
                    <h1><span>Game</span></h1>
                    <div class="section-body">
                        <button id="reset-game">Reset the game</button>
                    </div>
                </div>

            </div>
        </div>

        <input type="checkbox" class="toggle" id="help-toggle">
        <div id="help-screen" class="screen">
            <div class="screen-head">
                <h1>Help</h1>
                <label for="help-toggle"><span class="fa fa-times"></span></label>
            </div>
            <div id="help" class="screen-body">
                <h1 id="-buk">.buk</h1>
<p>.buk is a cube rolling puzzle game</p>
<p><img src="assets/images/lvl0004.png" alt="buk screenshot"></p>
<blockquote>
<p>Reached the 2nd place at Function 2016 game development competition</p>
</blockquote>
<h2 id="how-to-play-the-game-">How to play the game?</h2>
<p>After selecting a level you can control the game from either keyboard
or from touch screen.</p>
<p>If you&#39;re on touch screen then:</p>
<ul>
<li>Swipe up, down, left or right to roll the cube to the desired
direction</li>
<li>Swipe left or right at the bottom of the screen to rotate the camera
clockwise or counter-clockwise.</li>
<li>Pinch to zoom</li>
</ul>
<p>Or from keyboard:</p>
<ul>
<li><code>w</code> or <code>up arrow</code> - Move forward</li>
<li><code>s</code> or <code>down arrow</code> - Move back</li>
<li><code>a</code> or <code>left arrow</code> - Move left</li>
<li><code>d</code> or <code>right arrow</code> - Move right</li>
<li><code>shift + a</code> - Rotate the camera clockwise</li>
<li><code>shift + d</code> - Rotate the camea counter-clockwise</li>
<li><code>shift + w</code> - Zoom in</li>
<li><code>shift + s</code> - Zoom out</li>
</ul>
<h2 id="what-s-the-goal-of-the-game-">What&#39;s the goal of the game?</h2>
<p>The goal is to roll the cube on the level towards the exit. The cube
can step on the tile if the side of the cube matches the color of the
tile.</p>
<h2 id="how-can-i-earn-stars-">How can I earn stars?</h2>
<ul>
<li>You get the first star if you finish the level successfully.</li>
<li>The second star is given if you collect all the bonuses on the level.</li>
<li>The third star is given if you finish the level with the fewest steps. </li>
</ul>
<h2 id="it-does-not-work-it-s-ugly-">It does not work / it&#39;s ugly!</h2>
<p>We&#39;ve tested the game and should work in:</p>
<ul>
<li>Google Chrome 53.0.2785.101</li>
<li>Google Chrome Android 52.0.2743.98</li>
<li>Firefox 48.0</li>
<li>Firefox Android 48.0</li>
</ul>
<p>Unfortunatelly we don&#39;t have the equipments to check if the game works 
in Safari, Microsoft Edge or Internet Explorer so it&#39;s very likely that 
it won&#39;t work.</p>
<p>If you see the shadow is a skewed, or that some surfaces shine
so bad it&#39;s natural. Texture flickering (z-fight) might appear on some
poor hardware.</p>
<h1 id="development-stuff">Development stuff</h1>
<h2 id="requirements">Requirements</h2>
<p>You need Node.js 6.3.1 or newer to start developing.</p>
<p>To bootstrap your environment run <code>npm run bootstrap</code> in the root
directory of the project.</p>
<blockquote>
<p>This npm script will install all dependencies and type definitions</p>
</blockquote>
<h2 id="development">Development</h2>
<p>Run <code>npm run develop</code> to start the development server and navigate to
<code>http://localhost:3000</code> (as seen in the console output).</p>
<p>Any change you make in the <code>src/</code> directory will trigger the browser
to reload. The server is available externally to so you can access
the application on your phone easily.</p>
<p><em>To set it up in VS code check 
<a href="https://gist.github.com/caiwan/c23ee4b06e6c90748b2da58a9ea98e38">these</a> 
sample jsons.</em> Also please note that
<code>/// &lt;reference path=&quot;../../typings/index.d.ts&quot; /&gt;</code> line seems to be
mandatory before any includes to make it work with it <em>(But also YMMW)</em>.
Please don&#39;t remove them.</p>
<h2 id="release-build">Release build</h2>
<p>Simply run <code>npm run build</code>. The result will be written in <code>dist/</code></p>
<h2 id="changelog">Changelog</h2>
<h3 id="v1-0-0-2016-09-10">v1.0.0 - 2016-09-10</h3>
<p>This version should work in Firefox (tested with 48.0).</p>
<p>I know it&#39;s not a huge improvement but we consider this state of the game
as the 1.0.0 version.</p>
<h3 id="v0-0-1-function-2016-party-version-2016-09-10">v0.0.1 - Function 2016 party version - 2016-09-10</h3>
<p>This is the party version as it was released at Function 2016.</p>
<p>Known issues:</p>
<p>Doesn&#39;t work in Firefox
Doesn&#39;t work on iOS (only Chrome desktop/android is fully supported obviously)
On some devices (usually on lower hardwares) may have some flickering (z-fight)</p>

            </div>
        </div>

        <div id="overlay"></div>
    </div>

    <div id="game-layer" class="hidden">
        <button id="replay-game"><span class="fa fa-refresh"></span></button>
        <button id="leave-game"><span class="fa fa-times"></span></button>
        <div id="step-counter"></div>
        <div id="bonus-counter"></div>
    </div>

    <div id="finish-layer" class="hidden">
        <div id="finish-panel">
            <h1 id="finished-level">Finished level </h1>
            <div id="finish-stars">
                <div id="finish-star" class="star"><span class="fa fa-star"></span></div>
                <div id="bonus-star" class="star"><span class="fa fa-star"></span></div>
                <div id="step-star" class="star"><span class="fa fa-star"></span></div>
            </div>
            <div id="finish-stats">
                <div id="finish-steps">Steps: </div>
                <div id="finish-bonus">Bonus: </div>
            </div>
            <div id="finish-controls">
                <button id="replay"><span class="fa fa-refresh"></span></button>
                <button id="leave"><span class="fa fa-times"></span></button>
                <button id="next"><span class="fa fa-arrow-right"></span></button>
            </div>
        </div>
        <div id="finish-overlay"></div>
    </div>

    <input type="checkbox" class="toggle" id="go-fullscreen-area-toggle">
    <div id="go-fullscreen-area">
        <button id="go-fullscreen">Go fullscreen</button>
        <label for="go-fullscreen-area-toggle">✕</label>
    </div>
    <div id="canvas-wrapper"></div>
    <script src="assets/main.js"></script>
</body>
</html>